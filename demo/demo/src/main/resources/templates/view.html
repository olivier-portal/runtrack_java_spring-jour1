<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1 th:text="${message}">Message par défaut</h1>
<ul>
    <li th:each="obj : ${objList}" th:text="${obj}">mot par defaut</li>
</ul>
<form method="POST" action="/view" th:object="${formData}">
    <input th:field="*{welcome}" type="text" name="welcome" id="welcome" placeholder="name">
    <div th:if="${#fields.hasErrors('welcome')}" th:errors="*{welcome}"></div>


    <input th:field="*{age}"  type="number" name="age" id="age">
    <div th:if="${#fields.hasErrors('age')}" th:errors="*{age}"></div>
    <button type="submit">Appuie sur le bouton</button>
</form>

<h3 th:text="${welcomeMessage}"></h3>

<ul>
    <li th:each="person : ${persons}" th:text="${person.name} + ' a ' + ${person.age} + ' ans.'">Personne par défaut</li>
</ul>

<ul>
  <li th:each="person : ${persons}">
    <!-- Formulaire de mise à jour -->
    <form th:action="@{|/persons/${person.id}/update|}" method="post" style="display:inline;">
      <input type="text" name="name" th:value="${person.name}" />
      <input type="number" name="age" th:value="${person.age}" />
      <button type="submit">Mettre à jour</button>
    </form>

    <!-- Formulaire de suppression -->
    <form th:action="@{|/persons/${person.id}/delete|}" method="post" style="display:inline;">
      <button type="submit" onclick="return confirm('Supprimer cette personne ?')">Supprimer</button>
    </form>
  </li>
</ul>

</body>
</html>